{{- if and (not .Values.identityProvider.internal.existingSecret) .Values.identityProvider.internal.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "opencloud.keycloak.fullname" . }}
type: Opaque
stringData:
  adminUser: {{ .Values.identityProvider.internal.adminUser }}
  adminPassword: {{ .Values.identityProvider.internal.adminPassword }}
{{- end }}